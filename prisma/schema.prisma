generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}


enum UserRole {
  TOURIST
  GUIDE
  ADMIN
}

model User {
  id                String   @id @default(cuid())
  name              String
  email             String   @unique
  password          String
  role              UserRole @default(TOURIST)
  isApproved        Boolean  @default(true)
  isEmailVerified   Boolean  @default(false)
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  profile           UserProfile?
  guideProfile      GuideProfile?
}

model UserProfile {
  id          String   @id @default(cuid())
  userId      String   @unique
  bio         String?
  avatarUrl   String?
  languages   String[] @default([])
  city        String?
  country     String?
  preferences String[] @default([])
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model GuideProfile {
  id                String   @id @default(cuid())
  userId            String   @unique
  expertise         String[] @default([])
  dailyRate         Float?
  experienceYears   Int?
  verificationStatus String  @default("PENDING")
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  user              User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}


